<h2>Книги</h2>

<div class="wrapper">

    <button pButton pRipple type="button" label="Добавить книгу" class="p-button-outlined p-button-primary"
        routerLink="/add-book"></button>

    <p-table class="table" [value]="books">
        <ng-template pTemplate="header">
            <tr>
                <th>Автор</th>
                <th>Название</th>
                <th>Жанр</th>
                <th>Комментарии</th>
                <th></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-book responsiveLayout="scroll">
            <tr>
                <td>{{book.author.name}}</td>
                <td>{{book.title}}</td>
                <td>{{book.genre.name}}</td>
                <td>{{book.commentCount}}</td>
                <td>
                    <button pButton pRipple icon="pi pi-eye" class="p-button-rounded p-button-text p-button-secondary"
                        title="Информация" routerLink="/book-details/{{book.id}}"></button>
                    <button pButton pRipple icon="pi pi-pencil"
                        class="p-button-rounded p-button-text p-button-secondary" title="Редактировать"
                        routerLink="/book-edit/{{book.id}}"></button>
                    <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-text p-button-secondary"
                        title="Удалить" (click)="deleteBook(book)"></button>
                </td>
            </tr>
        </ng-template>
    </p-table>

    <p-confirmDialog #cd icon="pi pi-exclamation-triangle" [style]="{width: '50vw'}">
        <ng-template pTemplate="header">
            <h3>Подтверждение</h3>
        </ng-template>
        <ng-template pTemplate="footer">
            <button type="button" pButton icon="pi pi-trash" label="Удалить книгу" class="p-button-outlined p-button-danger" (click)="cd.accept()"></button>
            <button type="button" pButton label="Нет" class="p-button-outlined p-button-secondary" (click)="cd.reject()"></button> 
        </ng-template>
    </p-confirmDialog>

</div>